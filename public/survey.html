<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>

    <script src="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <div class="Mntitle">
                <h1>Meet Your Future Forever Friend!</h1>
            </div>
            <hr />
            <h2 class="Mntitle">
                Then find one with the greatest combatibility!
            </h2>
        </div>
        <h2>Survey Questions</h2>
        <hr />
        <h3><strong>About You</strong></h3>
        <h4>Link to Photo Image (Required)</h4>
        <input type="text" name="" id="photo" class="form-control" required />
        <hr />
        <h3><strong>Question 1</strong></h3>
        <h4>If you couldn't get to sleep, you would use the extra time to be productive.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 2</strong></h3>
        <h4>Your favorite clothing are those worn to exercise in.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 3</strong></h3>
        <h4>If money was no object your favorite hobby would be very expensive.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 4</strong></h3>
        <h4>The Star Trek Universe would be an ideal reality</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 5</strong></h3>
        <h4>Salmon is better than beef.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 6</strong></h3>
        <h4>Europe is a more advanced society than the U.S.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 7</strong></h3>
        <h4>You would be great as president of a large nation.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 8</strong></h3>
        <h4>Canines are the best pet to have.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 9</strong></h3>
        <h4>The Expanse is the best SciFi series of 2019.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 10</strong></h3>
        <h4>You relax after a hard day's work by reading a book.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5 (Strongly Agree)</option>
        </select>
        <br />
        <br />
        <button type="submit" class="btn-primary btn-lg btn-block" id="submit">
            <i class="fa fa-check-circle" aria-hidden="true"></i>
            Submit
        </button>
     
    </div>
    <div id="resultsModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal">
                    &times;
                </button>
                <h2 class="modal-title"><strong>Best Match</strong></h2>
            </div>

            <div class="modal-body">
                <h2 id="matchName"></h2>
                <img id="matchImg" src="https://via.placeholder.com/400x400"
                    alt="Placeholder image in case pic doesn't show" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $("#submit").on("click", function () {
            function validateForm() {
                function validateForm() {
                    var isValid = true;
                    $(".form-control").each(function () {
                        if ($(this).val() === "") isValid = false;
                    });
                    $(".chosen-select").each(function () {
                        if ($(this).val() === "") isValid = false;
                    });
                    return isValid;
                }
                if (validateForm() === true) {
                    var userData = {
                        name: $("name").val(),
                        photo: $("#photo").val(),
                        scores: [
                            $("q1").val,
                            $("q2").val,
                            $("q3").val,
                            $("q4").val,
                            $("q5").val,
                            $("q6").val,
                            $("q7").val,
                            $("q8").val,
                            $("q9").val,
                            $("q10").val

                        ]
                    };
                    var currentURL = window.location.origin;
                    $.post(currentURL + "/api/friends", userData, function (data) {
                        $("#matchName").text(data.name);
                        $("matchImg").attr("src", data.photo);
                        $("#resultsModal").modal("toggle");
                    })
                } else {
                    alert("Must complete fielks before submitting")
                }
            }
        });
    </script>
</body>

</html>